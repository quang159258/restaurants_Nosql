spring.application.name=restaurant

# Redis Configuration (Primary Database)
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}
spring.data.redis.database=${REDIS_DATABASE:0}
spring.data.redis.timeout=5000ms

# Redis Connection Pool
spring.redis.lettuce.pool.enabled=true
spring.redis.lettuce.pool.max-active=16
spring.redis.lettuce.pool.max-idle=8
spring.redis.lettuce.pool.min-idle=4
spring.redis.lettuce.pool.max-wait=1000ms

# Disable JPA autoconfiguration
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,\
  org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,\
  org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration

# Disable JPA repositories
spring.data.jpa.repositories.enabled=false

server.port=8081
# config jwt 
restaurant.jwt.base64-secret=${JWT_SECRET:2tkRq2nRc2Dt6tQyHoywcERLOwjVfH5lvpHv83sLzKY9ldJmrUr36Vk/8m3z4zy4k0/zQDKocstAmgLEmjhLxQ==}
# expiration : 1 ( thời hạn hết hạn (s))
restaurant.jwt.access-token-validity-in-seconds=${JWT_ACCESS_TOKEN_VALIDITY:8640000}
restaurant.jwt.refresh-token-validity-in-seconds=${JWT_REFRESH_TOKEN_VALIDITY:8640000}

#  config pagination start = 1
spring.data.web.pageable.one-indexed-parameters = true

#config upload file
###
#default = 1MB
spring.servlet.multipart.max-file-size=50MB
#default = 10 MB (form data)
spring.servlet.multipart.max-request-size=50MB
###
# Base path
storage.local.base-dir=uploads

# Kết nối MinIO
minio.url=${MINIO_URL:http://localhost:9000}
minio.access-key=${MINIO_ACCESS_KEY:admin}
minio.secret-key=${MINIO_SECRET_KEY:password}
minio.bucket.default=${MINIO_BUCKET:restaurants}

#config send mail
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME:nguyenthanhhoan300904@gmail.com}
spring.mail.password=${MAIL_PASSWORD:bbwlbqfoejkyyklz}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Session Management with Redis
spring.session.store-type=redis
spring.session.redis.namespace=${spring.application.name}:sessions
spring.session.timeout=86400 # 24 hours

# Cache configuration
spring.cache.type=redis
spring.cache.redis.time-to-live=3600000 # 1 hour
spring.cache.redis.cache-null-values=false
spring.cache.redis.key-prefix=${spring.application.name}:cache:
spring.cache.redis.use-key-prefix=true

app.security.cookie-secure=${APP_COOKIE_SECURE:false}
app.security.max-sessions-per-user=${APP_MAX_SESSIONS_PER_USER:3}

# VNPay configuration
vnpay.tmn-code=0443E64Y
vnpay.hash-secret=WAHK7G0R9XKT6MX310U7N7KUD26YHLA9
vnpay.base-url=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html
vnpay.return-url=http://localhost:8081/api/v1/payment/vnpay/return
vnpay.ipn-url=http://localhost:8081/api/v1/payment/vnpay/ipn
vnpay.version=2.1.0
vnpay.order-type=other
vnpay.locale=vn
app.frontend-url=http://localhost:5173